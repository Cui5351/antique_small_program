var __renderjsModules={};
__renderjsModules.c0c7256a=(()=>{var B=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var H=(i,o)=>{for(var r in o)B(i,r,{get:o[r],enumerable:!0})},A=(i,o,r,g)=>{if(o&&typeof o=="object"||typeof o=="function")for(let h of L(o))!T.call(i,h)&&h!==r&&B(i,h,{get:()=>o[h],enumerable:!(g=z(o,h))||g.enumerable});return i};var Y=i=>A(B({},"__esModule",{value:!0}),i);var O={};H(O,{default:()=>D});var n={x:0,y:0},p=1,v=1,b=0,c=[],l={},d={},t={},w="",m=0,e={left:0,right:0,top:0,bottom:0};function k(i){var o=i[1].pageX-i[0].pageX,r=i[1].pageY-i[0].pageY,g=Math.sqrt(Math.pow(o,2)+Math.pow(r,2)),h=i[1].pageX-o/2,a=i[1].pageY-r/2;return{c:g,x:h,y:a}}function X(i){var o=b/90%2;if(o===1){var r=(l.height-l.width)/2;return{x:Math.min(Math.max(i.x,-l.height+r+t.width+t.left),t.left+r),y:Math.min(Math.max(i.y,-l.width-r+t.height+t.top),t.top-r)}}return{x:Math.min(Math.max(i.x,-l.width+t.width+t.left),t.left),y:Math.min(Math.max(i.y,-l.height+t.height+t.top),t.top)}}function x(i){if(n.x+=i.x||0,n.y+=i.y||0,i.check){var o=X(n);(n.x!==o.x||n.y!==o.y)&&(n=o)}var r=(l.width-l.oldWidth)/2,g=(l.height-l.oldHeight)/2;i.instance.imageStyles={width:l.oldWidth+"px",height:l.oldHeight+"px",transform:"translate("+(n.x+r)+"px, "+(n.y+g)+"px) rotate("+b+"deg) scale("+p+")"},i.instance.dataChange({width:l.width,height:l.height,x:n.x,y:n.y,rotate:b})}function W(i){if(i.instance.maskStylesList=[{left:0,width:t.left+e.left+"px",top:0,bottom:0},{left:t.right+e.right+"px",right:0,top:0,bottom:0},{left:t.left+e.left+"px",width:t.width+e.right-e.left+"px",top:0,height:t.top+e.top+"px"},{left:t.left+e.left+"px",width:t.width+e.right-e.left+"px",top:t.bottom+e.bottom+"px",bottom:0}],t.showBorder&&(i.instance.borderStyles={left:t.left+e.left+"px",top:t.top+e.top+"px",width:t.width+e.right-e.left+"px",height:t.height+e.bottom-e.top+"px"}),t.showGrid&&(i.instance.gridStylesList=[{"border-width":"1px 0 0 0",left:t.left+e.left+"px",right:t.right+e.right+"px",top:t.top+e.top+(t.height+e.bottom-e.top)/3-.5+"px",width:t.width+e.right-e.left+"px"},{"border-width":"1px 0 0 0",left:t.left+e.left+"px",right:t.right+e.right+"px",top:t.top+e.top+(t.height+e.bottom-e.top)*2/3-.5+"px",width:t.width+e.right-e.left+"px"},{"border-width":"0 1px 0 0",top:t.top+e.top+"px",bottom:t.bottom+e.bottom+"px",left:t.left+e.left+(t.width+e.right-e.left)/3-.5+"px",height:t.height+e.bottom-e.top+"px"},{"border-width":"0 1px 0 0",top:t.top+e.top+"px",bottom:t.bottom+e.bottom+"px",left:t.left+e.left+(t.width+e.right-e.left)*2/3-.5+"px",height:t.height+e.bottom-e.top+"px"}]),t.showAngle&&(i.instance.angleStylesList=[{"border-width":t.angleBorderWidth+"px 0 0 "+t.angleBorderWidth+"px",left:t.left+e.left-t.angleBorderWidth+"px",top:t.top+e.top-t.angleBorderWidth+"px"},{"border-width":t.angleBorderWidth+"px "+t.angleBorderWidth+"px 0 0",left:t.right+e.right-t.angleSize+"px",top:t.top+e.top-t.angleBorderWidth+"px"},{"border-width":"0 0 "+t.angleBorderWidth+"px "+t.angleBorderWidth+"px",left:t.left+e.left-t.angleBorderWidth+"px",top:t.bottom+e.bottom-t.angleSize+"px"},{"border-width":"0 "+t.angleBorderWidth+"px "+t.angleBorderWidth+"px 0",left:t.right+e.right-t.angleSize+"px",top:t.bottom+e.bottom-t.angleSize+"px"}]),t.radius>0){var o=t.radius;t.width===t.height&&t.radius>=t.width/2?o=t.width/2:t.width!==t.height&&(o=Math.min(t.width/2,t.height/2,o)),i.instance.circleBoxStyles={left:t.left+e.left+"px",top:t.top+e.top+"px",width:t.width+e.right-e.left+"px",height:t.height+e.bottom-e.top+"px"},i.instance.circleStyles={"box-shadow":"0 0 0 "+Math.max(t.width,t.height)+"px rgba(51, 51, 51, 0.8)","border-radius":o+"px"}}}function S(i){var o=p;return p=Math.min(Math.max(i.scale+p,v),l.maxScale),o!==p?(l.width=l.oldWidth*p,l.height=l.oldHeight*p,i.x=(i.x-n.x)*(1-p/o),i.y=(i.y-n.y)*(1-p/o),x(i),!0):!1}function I(i,o){var r=t.angleBorderWidth,g=d.navigation?0:d.windowTop;if(o>=t.top-r+g&&o<=t.top+t.angleSize+r+g){if(i>=t.left-r&&i<=t.left+t.angleSize+r)return 1;if(i>=t.right-t.angleSize-r&&i<=t.right+r)return 2}else if(o>=t.bottom-t.angleSize-r+g&&o<=t.bottom+r+g){if(i>=t.left-r&&i<=t.left+t.angleSize+r)return 3;if(i>=t.right-t.angleSize-r&&i<=t.right+r)return 4}return 0}function R(){n={x:0,y:0},p=1,v=1,b=0}function M(i){for(var o=[],r=i?i.length:0,g=0;g<r;g++)o[g]={pageX:i[g].pageX,pageY:i[g].pageY+d.windowTop};return o}var y={data(){return{imageStyles:{},maskStylesList:[{},{},{},{}],borderStyles:{},gridStylesList:[{},{},{},{}],angleStylesList:[{},{},{},{}],circleBoxStyles:{},circleStyles:{}}},created(){window.addEventListener("mousewheel",i=>{var o=M([i]);l.src&&S({instance:this,check:!0,scale:i.deltaY>0?-.05:.05,x:o[0].pageX,y:o[0].pageY})})},methods:{initObserver:function(i,o,r,g){i&&(l=i.img,d=i.sys,t=i.area,R(),l.src&&x({instance:this,x:(d.windowWidth-l.width)/2,y:(d.windowHeight+d.windowTop-d.offsetBottom-l.height)/2}),W({instance:this}))},mousewheel:function(i,o){},touchstart:function(i,o){!l.src||(c=M(i.touches),m=t.showAngle?I(c[0].pageX,c[0].pageY):0,c.length===1&&m!==0?w="stretch":w="")},touchmove:function(i,o){if(!!l.src){if(i.touches=M(i.touches),w==="stretch"){var r=i.touches[0],g=c[0],h=r.pageX-g.pageX,a=r.pageY-g.pageY;if(h!==0||a!==0){var f=t.width*(1-t.minScale),s=t.height*(1-t.minScale);switch(c[0]=r,m){case 1:h+=e.left,a+=e.top,h>=0&&a>=0&&(h>a?(h>f&&(h=f),a=h*t.height/t.width):(a>s&&(a=s),h=a*t.width/t.height),e.left=h,e.top=a);break;case 2:h+=e.right,a+=e.top,h<=0&&a>=0&&(-h>a?(-h>f&&(h=-f),a=-h*t.height/t.width):(a>s&&(a=s),h=-a*t.width/t.height),e.right=h,e.top=a);break;case 3:h+=e.left,a+=e.bottom,h>=0&&a<=0&&(h>-a?(h>f&&(h=f),a=-h*t.height/t.width):(-a>s&&(a=-s),h=-a*t.width/t.height),e.left=h,e.bottom=a);break;case 4:h+=e.right,a+=e.bottom,h<=0&&a<=0&&(-h>-a?(-h>f&&(h=-f),a=h*t.height/t.width):(-a>s&&(a=-s),h=a*t.width/t.height),e.right=h,e.bottom=a);break}W({instance:this})}}else if(i.touches.length==2){var g=k(c),u=k(i.touches);S({instance:this,check:!t.bounce,scale:(u.c-g.c)/100,x:u.x,y:u.y}),w="scale"}else w==="scale"||x({instance:this,check:!t.bounce,x:i.touches[0].pageX-c[0].pageX,y:i.touches[0].pageY-c[0].pageY}),w="move";c=i.touches}},touchend:function(i,o){if(!!l.src)if(w==="stretch"){var r=e.left,g=e.right,h=e.top,a=e.bottom,f=t.width+g-r,s=t.height+a-h,u=p*(t.width/f)-p;e={left:0,right:0,top:0,bottom:0},W({instance:this}),S({instance:this,scale:u,x:t.left+r+(m===1||m===3?f:0),y:t.top+h+(m===1||m===2?s:0)})}else t.bounce&&x({instance:this,check:!0})},rotateImage:function(i,o){b=(b+90)%360;var r=b/90%2;v=1,l.width<t.height?v=t.height/l.oldWidth:l.height<t.width&&(v=t.width/l.oldHeight),v!==1&&S({instance:this,scale:v-p,x:d.windowWidth/2,y:(d.windowHeight-d.offsetBottom)/2});var g=(n.x+l.width-t.right-(t.left-n.x))/2,h=(n.y+l.height-t.bottom-(t.top-n.y))/2;x({instance:this,check:!0,x:-g-h,y:-h+g})}}};var D={mixins:[y]};return Y(O);})();
