{"version":3,"file":"js/810.21d7a662.js","mappings":"6ZA8BA,MAAMA,GAAOC,EAAAA,EAAAA,IAAS,CACpBC,SAAS,GACTC,SAAS,KAGLC,GAASC,EAAAA,EAAAA,MACTC,GAAOC,EAAAA,EAAAA,KAAI,GACXC,EAAcA,KAChBF,EAAKG,OAASH,EAAKG,KAAI,EAErBC,EAAQC,UACV,IACI,GAAGX,EAAKE,SAASU,OAAOC,OAAS,EAC7B,KAAM,YACV,GAAGb,EAAKG,SAASS,OAAOC,OAAS,EAC7B,KAAM,YACV,GAAGP,EAAKG,MAAM,CACV,MAAM,KAACK,SAAcC,EAAAA,EAAQC,KAAK,eAAe,IAAIhB,IACrDiB,EAAAA,EAAQC,GAAGC,IAAI,OAAOC,KAAKC,UAAUP,GAEzC,KAAK,CACD,MAAM,KAACA,SAAcC,EAAAA,EAAQC,KAAK,iBAAiB,CAC/CM,QAAQtB,EAAKE,SACbC,SAASH,EAAKG,WAElBoB,QAAQC,IAAIV,EAAK,QACjBG,EAAAA,EAAQC,GAAGC,IAAI,OAAOC,KAAKC,UAAUP,GACzC,CAEAV,EAAOqB,QAAQ,CACXC,KAAK,cAETC,EAAAA,GAAUC,QAAQ,OACtB,CAAC,MAAMC,GAEH,YADAN,QAAQC,IAAIK,EAEhB,G,00BC5DJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://oil/./src/view/login/login.vue","webpack://oil/./src/view/login/login.vue?4ef9"],"sourcesContent":["<template>\n<div class=\"box\">\n        <div class=\"content\">\n            <div class=\"login-wrapper\">\n                <h1>登录{{ mode ? '商家' :'博物馆' }}</h1>\n                <div class=\"login-form\">\n                    <div class=\"username form-item\">\n                        <span>账号</span>\n                        <input type=\"text\" @keydown.enter=\"login\" class=\"input-item\" v-model=\"user.username\" placeholder=\"Please enter your account\">\n                    </div>\n                    <div class=\"password form-item\">\n                        <span>密码</span>\n                        <input type=\"password\" @keydown.enter=\"login\" class=\"input-item\" v-model=\"user.password\" placeholder=\"Please enter your password\">\n                    </div>\n                    <button class=\"login-btn\" @click=\"login\">登 录</button>\n                    <button class=\"login-btn\" @click=\"toggleLogin\">切换登录</button>\n                </div>\n            \n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { ElMessage } from 'element-plus';\nimport { reactive, ref } from 'vue';\nimport request from '../../request/request'\nimport storage from '@/storage/storage';\nimport { useRouter } from 'vue-router';\n\nconst user = reactive({\n  username:'',\n  password:''  \n})\n\nconst router = useRouter()\nconst mode = ref(true)\nconst toggleLogin = () => {\n    mode.value = !mode.value\n}\nconst login = async() => {\n    try{\n        if(user.username.trim().length < 4)\n            throw \"账号长度不能小于4\"\n        if(user.password.trim().length < 6)\n            throw \"密码长度不能小于6\"\n        if(mode.value){\n            const {data} = await request.post(\"/Store/login\",{...user})\n            storage.ls.set(\"user\",JSON.stringify(data))\n            // throw \"账户/密码错误\"\n        }else{\n            const {data} = await request.post(\"/Antique/login\",{\n                account:user.username,\n                password:user.password\n            })\n            console.log(data,'data');\n            storage.ls.set(\"user\",JSON.stringify(data))\n        }\n        // storage.ls.set(\"username\",data.name)\n        router.replace({\n            path:\"/homePage\"\n        })\n        ElMessage.success(\"登陆成功\")\n    }catch(e){\n        console.log(e);\n        return\n    }\n}\n</script>\n\n<style scoped>\n@import url('./style.css');\n</style>","import script from \"./login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=0e90e4ab&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0e90e4ab\"]])\n\nexport default __exports__"],"names":["user","reactive","username","password","router","useRouter","mode","ref","toggleLogin","value","login","async","trim","length","data","request","post","storage","ls","set","JSON","stringify","account","console","log","replace","path","ElMessage","success","e","__exports__"],"sourceRoot":""}