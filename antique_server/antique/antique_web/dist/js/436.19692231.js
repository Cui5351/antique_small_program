"use strict";(self["webpackChunkoil"]=self["webpackChunkoil"]||[]).push([[436],{2568:function(e,t,l){l.d(t,{Aq:function(){return N},Hq:function(){return x},IC:function(){return y},L7:function(){return _},M1:function(){return d},Mc:function(){return c},OD:function(){return C},P:function(){return v},PI:function(){return h},Pg:function(){return G},Qt:function(){return q},Sn:function(){return g},TH:function(){return i},U3:function(){return W},UK:function(){return X},VG:function(){return s},Xt:function(){return w},Y8:function(){return o},YI:function(){return n},YS:function(){return p},al:function(){return m},bU:function(){return k},dO:function(){return A},g2:function(){return Y},j6:function(){return L},jE:function(){return E},lE:function(){return R},pH:function(){return B},pZ:function(){return S},pr:function(){return F},qC:function(){return U},qu:function(){return b},ry:function(){return f},sD:function(){return u},si:function(){return r},tb:function(){return D},vO:function(){return K},vW:function(){return V},xM:function(){return I}});var a=l(9455);const n=e=>a.A.get("/StoreItem/list2",{params:{...e}}),o=e=>a.A.get("/StoreItem/findById",{params:{...e}}),u=()=>a.A.get("/Store/getStoreNames"),r=e=>a.A.post("/StoreItem/add",e),i=e=>a.A.post("/StoreItem/edit",e),d=e=>a.A.post("/StoreItem/delete",e),s=e=>a.A.post("/Store/add",e),p=e=>a.A.get("/StoreItem/GetBuyGoodsAll",{params:{...e}}),c=e=>a.A.put("/StoreItem/editBuyGoodsState2",e),m=e=>a.A.get("/Store/getAllStoreAccount",{params:{...e}}),b=e=>a.A.get("/Store/getStoreById",{params:{...e}}),g=e=>a.A.put("/Store/editStoreById",e),f=e=>a.A.delete("/Store/DelStore",{params:{...e}}),A=e=>a.A.post("/Antique/AddAntique",e),h=e=>a.A.get("/Antique/GetAntiqueAll",{params:{...e}}),k=e=>a.A.post("/Antique/login",e),y=e=>a.A.get("/Antique/GetAntiqueCollect",{params:{...e}}),_=e=>a.A.post("/Antique/AddAntiqueCollect",e),F=e=>a.A.get("/Antique/FindAntiqueById",{params:{...e}}),v=e=>a.A.get("/Antique/GetCollectById",{params:{...e}}),w=e=>a.A.put("/Antique/EditCollectById",e),S=e=>a.A.put("/Antique/DelAntiqueCollect",e),C=e=>a.A.put("/Antique/EditAntiqueById",e),q=e=>a.A.get("/Antique/GetStoreForAntique",{params:{...e}}),I=e=>a.A.put("/Antique/DelAntiqueBindStore",e),x=e=>a.A.put("/Antique/AddAntiqueBindStore",e),V=e=>a.A.get("/Antique/GetMyBindStoreById",{params:{...e}}),W=e=>a.A.delete("/StoreItem/DeleteGoodsPic",{params:{...e}}),G=e=>a.A.delete("/Antique/DelAntique",{params:{...e}}),B=e=>a.A.delete("/Store/DeleteStoreCarouselPic",{params:{...e}}),K=e=>a.A.get("/Community/GetAllCommunity",{params:{...e}}),D=e=>a.A.post("/Community/UpdateCommunityStatus",e),E=e=>a.A.delete("/Community/DeleteCommunity",{params:{...e}}),Y=e=>a.A.get("/Finance/GetYearStoreStatics",{params:{...e}}),U=e=>a.A.get("/Finance/GetBillsStatistics",{params:{...e}}),L=e=>a.A.get("/Finance/GetTotalStoreStatics",{params:{...e}}),X=e=>a.A.get("/Finance/GetYearStoreStaticsByYear",{params:{...e}}),N=e=>a.A.get("/StoreItem/buyGoodsAllToExcel",{params:{...e},responseType:"blob"}),R=e=>a.A.get("/StoreItem/buyGoodsToExcelById",{params:{...e},responseType:"blob"})},7436:function(e,t,l){l.r(t),l.d(t,{default:function(){return A}});l(4114),l(8992),l(3949);var a=l(6768),n=l(4232),o=l(144),u=l(5130),r=l(2568),i=l(1219),d=l(4588);const s={class:"page"},p={style:{"background-color":"white",padding:"20px","box-sizing":"border-box","text-align":"start"}},c=["src"],m={style:{"margin-top":"20px"}};var b={__name:"Delivery",setup(e){const t=(0,o.KR)(0),l=(0,o.Kh)({store_id:"",uuid:"",name:"",state2:"",date:null}),b=JSON.parse(d.A.ls.get("user")),g=(0,o.KR)({role:b.role}),f=(0,o.Kh)({state2:"",uuid:"",name:"",store:"",user:"",realName:"",tel:"",address:""}),A=(0,o.KR)(!1),h=(0,o.Kh)(["待发货","待收货","已完成","已取消"]),k=()=>{console.log("all"),(0,r.Aq)().then((e=>{})).catch((e=>{console.log(e)}))},y=()=>{let e="";_.forEach((t=>{e+=t.id+","})),e=e.substring(0,e.length-1),console.log(e),(0,r.lE)({ids:e}).then((e=>{})).catch((e=>{console.log(e)}))},_=(0,o.Kh)([]),F=e=>{_.splice(0,_.length,...e),console.log(_,"selected")},v=(0,o.Kh)([]),w=()=>{l.store_id="",l.name="",l.state2="",l.uuid="",l.date=null,W()},S=()=>{x.value=1,W()},C=e=>{switch(e){case"待发货":return"primary";case"待收货":return"warning";case"已完成":return"success";case"已取消":return"info"}},q=()=>{f.state2.length<=0?i.nk.warning("请选择状态"):(0,r.Mc)({uuid:f.uuid,state2:f.state2}).then((()=>{i.nk.success("修改成功"),W(),D()})).catch((e=>{console.log(e)}))},I=()=>{"超级管理员"==g.value.role&&(0,r.sD)().then((e=>{v.splice(0,v.length,...e.data)})).catch((e=>{console.log(e)}))};I();const x=(0,o.KR)(1),V=(0,o.Kh)([]),W=()=>{(0,r.YS)({page:x.value,pageSize:10,store_id:l.store_id,name:l.name,state2:l.state2,uuid:l.uuid,start:null!=l.date?l.date[0]:"",end:null!=l.date?l.date[1]:""}).then((e=>{console.log(e),V.splice(0,V.length),V.push(...e.data.list),t.value=e.data.total,x.value=e.data.pageNum})).catch((e=>{console.log(e)}))};W();let G=(0,o.KR)(!1);const B=(e,t)=>{G.value=t,(0,r.YS)({uuid:e.uuid,page:1,pageSize:1}).then((e=>{console.log(e),f.state2=e.data.list[0].state2,f.uuid=e.data.list[0].uuid,f.name=e.data.list[0].name,f.store=e.data.list[0].store,f.user=e.data.list[0].user,f.realName=e.data.list[0].realName,f.tel=e.data.list[0].tel,f.address=e.data.list[0].address,A.value=!0}))},K=e=>{console.log(e,"val"),x.value=e,W()},D=()=>{A.value=!1,f.state2="",f.uuid="",f.name="",f.store="",f.user="",f.realName="",f.tel="",f.address=""};return(e,r)=>{const i=(0,a.g2)("el-option"),d=(0,a.g2)("el-select"),b=(0,a.g2)("el-form-item"),I=(0,a.g2)("el-input"),W=(0,a.g2)("el-date-picker"),E=(0,a.g2)("el-button"),Y=(0,a.g2)("el-row"),U=(0,a.g2)("el-form"),L=(0,a.g2)("el-table-column"),X=(0,a.g2)("el-tag"),N=(0,a.g2)("el-table"),R=(0,a.g2)("el-pagination"),M=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",p,[(0,a.bF)(U,null,{default:(0,a.k6)((()=>[(0,a.bF)(Y,null,{default:(0,a.k6)((()=>["超级管理员"==g.value.role?((0,a.uX)(),(0,a.Wv)(b,{key:0,label:"门店名称",prop:"store"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{style:{width:"200px"},placeholder:"请选择门店名称",modelValue:l.store_id,"onUpdate:modelValue":r[0]||(r[0]=e=>l.store_id=e)},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v,(e=>((0,a.uX)(),(0,a.Wv)(i,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(b,{label:"商品名称"},{default:(0,a.k6)((()=>[(0,a.bF)(I,{style:{width:"200px"},placeholder:"请输入商品名称",modelValue:l.name,"onUpdate:modelValue":r[1]||(r[1]=e=>l.name=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(b,{label:"订单单号"},{default:(0,a.k6)((()=>[(0,a.bF)(I,{style:{width:"200px"},placeholder:"请输入订单单号",modelValue:l.uuid,"onUpdate:modelValue":r[2]||(r[2]=e=>l.uuid=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(b,{label:"商品状态"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{style:{width:"200px"},placeholder:"请选择商品状态",modelValue:l.state2,"onUpdate:modelValue":r[3]||(r[3]=e=>l.state2=e)},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(h,(e=>((0,a.uX)(),(0,a.Wv)(i,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(b,{label:"下单时间"},{default:(0,a.k6)((()=>[(0,a.bF)(W,{style:{width:"230px"},type:"daterange",placeholder:"选择日期",modelValue:l.date,"onUpdate:modelValue":r[4]||(r[4]=e=>l.date=e),"value-format":"YYYY-MM-DD","start-placeholder":"开始日期","end-placeholder":"结束日期","range-separator":"至",onChange:S},null,8,["modelValue"])])),_:1}),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(E,{onClick:w},{default:(0,a.k6)((()=>r[7]||(r[7]=[(0,a.eW)("重置")]))),_:1}),(0,a.bF)(E,{type:"primary",onClick:S},{default:(0,a.k6)((()=>r[8]||(r[8]=[(0,a.eW)("搜索")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(Y,null,{default:(0,a.k6)((()=>[_.length?((0,a.uX)(),(0,a.Wv)(E,{key:0,type:"primary",onClick:y},{default:(0,a.k6)((()=>r[9]||(r[9]=[(0,a.eW)("导出")]))),_:1})):(0,a.Q3)("",!0),(0,a.bF)(E,{type:"primary",onClick:k},{default:(0,a.k6)((()=>r[10]||(r[10]=[(0,a.eW)("导出全部")]))),_:1})])),_:1})])),_:1}),(0,a.bF)(N,{data:V,style:{width:"100%","margin-top":"20px"},border:"",onSelectionChange:F},{default:(0,a.k6)((()=>[(0,a.bF)(L,{type:"selection",width:"55"}),(0,a.bF)(L,{prop:"id",label:"id",width:"80",align:"center"}),(0,a.bF)(L,{prop:"uuid",label:"订单单号",width:"230","show-overflow-tooltip":"",align:"center"}),(0,a.bF)(L,{prop:"store",label:"门店名称",width:"150","show-overflow-tooltip":"",align:"center"}),(0,a.bF)(L,{prop:"name",label:"商品名称","show-overflow-tooltip":"",width:"150",align:"center"}),(0,a.bF)(L,{prop:"src",label:"商品图片",width:"170",align:"center"},{default:(0,a.k6)((e=>[(0,a.Lk)("img",{src:e.row.src,alt:"",style:{width:"100px",height:"100px"}},null,8,c)])),_:1}),(0,a.bF)(L,{prop:"user",label:"下单用户","show-overflow-tooltip":"",width:"150",align:"center"}),(0,a.bF)(L,{prop:"state2",label:"商品状态",width:"100",align:"center"},{default:(0,a.k6)((e=>[(0,a.bF)(X,{type:C(e.row.state2)},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.row.state2),1)])),_:2},1032,["type"])])),_:1}),(0,a.bF)(L,{prop:"count",label:"下单数量","show-overflow-tooltip":"",width:"100",align:"center"},{default:(0,a.k6)((e=>[(0,a.eW)((0,n.v_)(e.row.count)+"件 ",1)])),_:1}),(0,a.bF)(L,{prop:"money",label:"商品价格",width:"120",align:"center"},{default:(0,a.k6)((e=>[(0,a.eW)((0,n.v_)(e.row.money?.toFixed(2))+"元 ",1)])),_:1}),(0,a.bF)(L,{prop:"transport_money",label:"运输费",width:"100",align:"center"},{default:(0,a.k6)((e=>[(0,a.eW)((0,n.v_)(e.row.transport_money?.toFixed(2))+"元 ",1)])),_:1}),(0,a.bF)(L,{label:"合计",width:"120",align:"center"},{default:(0,a.k6)((e=>[(0,a.eW)((0,n.v_)((e.row.money*e.row.count+e.row.transport_money)?.toFixed(2))+"元 ",1)])),_:1}),(0,a.bF)(L,{prop:"date",label:"下单时间","show-overflow-tooltip":"",width:"160",align:"center"}),(0,a.bF)(L,{label:"操作",width:"180",fixed:"right",align:"center"},{default:(0,a.k6)((e=>[(0,a.bF)(E,{type:"default",onClick:t=>B(e.row,!0)},{default:(0,a.k6)((()=>r[11]||(r[11]=[(0,a.eW)("详情")]))),_:2},1032,["onClick"]),(0,a.bF)(E,{type:"primary",onClick:t=>B(e.row,!1)},{default:(0,a.k6)((()=>r[12]||(r[12]=[(0,a.eW)("修改")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,a.Lk)("div",m,[(0,a.bF)(R,{background:"",layout:"prev, pager, next, total","page-size":10,total:t.value,style:{"justify-content":"flex-end","margin-right":"50px"},"current-page":x.value,onCurrentChange:K},null,8,["total","current-page"])])]),(0,a.bF)(M,{modelValue:A.value,"onUpdate:modelValue":r[6]||(r[6]=e=>A.value=e),title:(0,o.R1)(G)?"详情":"修改商品状态",onClose:D},{footer:(0,a.k6)((()=>[(0,a.bF)(E,{type:"default",onClick:D},{default:(0,a.k6)((()=>r[13]||(r[13]=[(0,a.eW)("取消")]))),_:1}),(0,a.bo)((0,a.bF)(E,{type:"primary",onClick:q},{default:(0,a.k6)((()=>r[14]||(r[14]=[(0,a.eW)("修改")]))),_:1},512),[[u.aG,!(0,o.R1)(G)]])])),default:(0,a.k6)((()=>[(0,a.bF)(U,null,{default:(0,a.k6)((()=>[(0,a.bF)(b,{label:"门店名称："},{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,(0,n.v_)(f.store),1)])),_:1}),(0,a.bF)(b,{label:"商品名称："},{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,(0,n.v_)(f.name),1)])),_:1}),(0,a.bF)(b,{label:"下单用户："},{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,(0,n.v_)(f.user),1)])),_:1}),(0,a.bF)(b,{label:"收货人："},{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,(0,n.v_)(f.realName),1)])),_:1}),(0,a.bF)(b,{label:"收货号码："},{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,(0,n.v_)(f.tel),1)])),_:1}),(0,a.bF)(b,{label:"目的地址："},{default:(0,a.k6)((()=>[(0,a.Lk)("p",null,(0,n.v_)(f.address),1)])),_:1}),(0,a.bF)(b,{label:"商品状态："},{default:(0,a.k6)((()=>[(0,a.bF)(d,{style:{width:"200px"},placeholder:"请选择商品状态",modelValue:f.state2,"onUpdate:modelValue":r[5]||(r[5]=e=>f.state2=e),disabled:(0,o.R1)(G)},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(h,(e=>((0,a.uX)(),(0,a.Wv)(i,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue","title"])])}}},g=l(1241);const f=(0,g.A)(b,[["__scopeId","data-v-3d94cb86"]]);var A=f}}]);
//# sourceMappingURL=436.19692231.js.map