{"version":3,"file":"js/412.b7f31474.js","mappings":"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","sources":["webpack://oil/./src/util/api.js","webpack://oil/./src/view/StoreManage/modules/addStore.vue","webpack://oil/./src/view/StoreManage/modules/addStore.vue?728f","webpack://oil/./src/view/StoreManage/StoreManage.vue","webpack://oil/./src/view/StoreManage/StoreManage.vue?d93f"],"sourcesContent":["import instance from \"@/request/request\";\r\n// 加载门店信息\r\n\r\n// /loadStoreInfo\r\nconst loadStoreInfo = (data) => instance.get(\"/StoreItem/list2\",{params:{...data}})\r\n\r\n// /loadStoreInfoById\r\nconst loadStoreInfoById = (data) => instance.get(\"/StoreItem/findById\",{params:{...data}})\r\n\r\n// GetStoreNames\r\nconst GetStoreNames = () => instance.get(\"/Store/getStoreNames\")\r\n// /AddStoreItem\r\nconst AddStoreItem = (data) => instance.post(\"/StoreItem/add\",data)\r\n// /EditStoreItem\r\nconst EditStoreItem = (data) => instance.post(\"/StoreItem/edit\",data)\r\n// delete\r\nconst DeleteStoreItem = (data) => instance.post(\"/StoreItem/delete\",data)\r\n\r\nconst AddStore = (data) => instance.post(\"/Store/add\",data)\r\n\r\n// StoreItem/buyGoodsAll\r\nconst buyGoodsAll = (data) => instance.get(\"/StoreItem/GetBuyGoodsAll\",{params:{...data}})\r\n\r\n// editBuyGoodsState2\r\nconst editBuyGoodsState2 = (data) => instance.put(\"/StoreItem/editBuyGoodsState2\",data)\r\n\r\n// getAllStoreAccount\r\nconst getAllStoreAccount = (data) => instance.get(\"/Store/getAllStoreAccount\",{params:{...data}})\r\n\r\n// getStoreById\r\nconst getStoreById = (data) => instance.get(\"/Store/getStoreById\",{params:{...data}})\r\n\r\n// /editStoreById\r\nconst editStoreById = (data) => instance.put(\"/Store/editStoreById\",data)\r\n\r\n// /DelStore\r\nconst DelStore = (data) => instance.delete(\"/Store/DelStore\",{params:{...data}})\r\n\r\n// Antique/AddAntique\r\nconst AddAntique = (data) => instance.post(\"/Antique/AddAntique\",data)\r\n\r\n// /Antique/GetAntiqueAll\r\nconst GetAntiqueAll = (data) => instance.get(\"/Antique/GetAntiqueAll\",{params:{...data}})\r\n\r\n// /Antique/login\r\nconst AntiqueLogin = (data) => instance.post(\"/Antique/login\",data)\r\n\r\n// /Antique/GetAntiqueCollect\r\nconst GetAntiqueCollect = (data) => instance.get(\"/Antique/GetAntiqueCollect\",{params:{...data}})\r\n\r\n// Antique/AddAntiqueCollect\r\nconst AddAntiqueCollect = (data) => instance.post(\"/Antique/AddAntiqueCollect\",data)\r\n\r\n// Antique/FindAntiqueById\r\nconst FindAntiqueById = (data) => instance.get(\"/Antique/FindAntiqueById\",{params:{...data}})\r\n\r\n// Antique/GetCollectById\r\nconst GetCollectById = (data) => instance.get(\"/Antique/GetCollectById\",{params:{...data}})\r\n\r\n// Antique/EditCollectById\r\nconst EditCollectById = (data) => instance.put(\"/Antique/EditCollectById\",data)\r\n\r\n// Antique/DelAntiqueCollect\r\nconst DelAntiqueCollect = (data) => instance.put(\"/Antique/DelAntiqueCollect\",data)\r\n\r\n\r\n// Antique/EditAntiqueById\r\nconst EditAntiqueById = (data) => instance.put(\"/Antique/EditAntiqueById\",data)\r\n\r\nconst GetStoreForAntique = (data) => instance.get(\"/Antique/GetStoreForAntique\",{params:{...data}})\r\n\r\n// DelAntiqueBindStore\r\nconst DelAntiqueBindStore = (data) => instance.put(\"/Antique/DelAntiqueBindStore\",data)\r\n\r\n// AddAntiqueBindStore\r\nconst AddAntiqueBindStore = (data) => instance.put(\"/Antique/AddAntiqueBindStore\",data)\r\n\r\n// GetMyBindStoreById\r\nconst GetMyBindStoreById = (data) => instance.get(\"/Antique/GetMyBindStoreById\",{params:{...data}})\r\n\r\n// DeleteGoodsPic\r\nconst DeleteGoodsPic = (data) => instance.delete(\"/StoreItem/DeleteGoodsPic\",{params:{...data}})\r\n\r\nconst DelAntique = (data) => instance.delete(\"/Antique/DelAntique\",{params:{...data}})\r\n\r\nconst DeleteStoreCarouselPic = (data) => instance.delete(\"/Store/DeleteStoreCarouselPic\",{params:{...data}})\r\n\r\nconst GetAllCommunity = (data) => instance.get(\"/Community/GetAllCommunity\",{params:{...data}})\r\n\r\nconst UpdateCommunityStatus = (data) => instance.post(\"/Community/UpdateCommunityStatus\",data)\r\n// DeleteCommunity\r\nconst DeleteCommunity = (data) => instance.delete(\"/Community/DeleteCommunity\",{params:{...data}})\r\n\r\n// GetYearStoreStatics\r\nconst GetYearStoreStatics = (data) => instance.get(\"/Finance/GetYearStoreStatics\",{params:{...data}})\r\n// GetBillsStatistics\r\nconst GetBillsStatistics = (data) => instance.get(\"/Finance/GetBillsStatistics\",{params:{...data}})\r\n// GetTotalStoreStatics\r\nconst GetTotalStoreStatics = (data) => instance.get(\"/Finance/GetTotalStoreStatics\",{params:{...data}})\r\n// GetYearStoreStaticsByYear\r\nconst GetYearStoreStaticsByYear = (data) => instance.get(\"/Finance/GetYearStoreStaticsByYear\",{params:{...data}})\r\n// /StoreItem/buyGoodsAllToExcel\r\nconst buyGoodsAllToExcel = (data) => instance.get(\"/StoreItem/buyGoodsAllToExcel\",{params:{...data},responseType:\"blob\"})\r\n\r\n// buyGoodsToExcelById\r\nconst buyGoodsToExcelById = (data) => instance.get(\"/StoreItem/buyGoodsToExcelById\",{params:{...data},responseType:\"blob\"})\r\n\r\nexport {\r\n    buyGoodsToExcelById,\r\n    buyGoodsAllToExcel,\r\n    GetYearStoreStatics,\r\n    GetBillsStatistics,\r\n    GetTotalStoreStatics,\r\n    GetYearStoreStaticsByYear,\r\n\r\n    GetAllCommunity,\r\n    UpdateCommunityStatus,\r\n    DeleteCommunity,\r\n\r\n    DelAntique,\r\n    DeleteGoodsPic,\r\n    DeleteStoreCarouselPic,\r\n\r\n    AddAntiqueBindStore,\r\n    DelAntiqueBindStore,\r\n    GetMyBindStoreById,\r\n\r\n    GetStoreForAntique,\r\n    EditAntiqueById,\r\n    DelAntiqueCollect,\r\n    EditCollectById,\r\n    GetCollectById,\r\n    FindAntiqueById,\r\n    AddAntiqueCollect,\r\n    GetAntiqueCollect,\r\n    AntiqueLogin,\r\n    AddAntique,\r\n    GetAntiqueAll,\r\n\r\n    DelStore,\r\n    getStoreById,\r\n    editStoreById,\r\n    getAllStoreAccount,\r\n    buyGoodsAll,\r\n    editBuyGoodsState2,\r\n    AddStore,\r\n    loadStoreInfo,\r\n    loadStoreInfoById,\r\n    GetStoreNames,\r\n    AddStoreItem,\r\n    EditStoreItem,\r\n    DeleteStoreItem\r\n}","<template>\r\n    <!-- 商铺名，描述 -->\r\n    <el-dialog :title=\"title\" v-model=\"visible\" @close=\"cancel\" align-center>\r\n        <el-form :model=\"model\" label-width=\"100px\" :rules=\"rules\" ref=\"form\">\r\n            <el-form-item label=\"商铺名\" prop=\"name\">\r\n                <el-input v-model=\"model.name\" placeholder=\"请输入店铺名称\"></el-input>\r\n            </el-form-item>\r\n            <!-- 账户密码 -->\r\n            <el-form-item label=\"账户\" prop=\"account\">\r\n                <el-input v-model=\"model.account\" placeholder=\"请输入账户\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"密码\" prop=\"password\">\r\n                <el-input v-model=\"model.password\" placeholder=\"请输入密码\"></el-input>\r\n            </el-form-item>\r\n            <!-- 手机号码 -->\r\n            <el-form-item label=\"手机号码\" prop=\"tel\">\r\n                <el-input v-model=\"model.tel\" placeholder=\"请输入手机号码\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"描述\" prop=\"description\">\r\n                <el-mention type=\"textarea\" :rows=\"4\" v-model=\"model.description\" placeholder=\"请输入店铺描述\"></el-mention>\r\n            </el-form-item>\r\n            <el-form-item label=\"头像\" prop=\"src\">\r\n                <el-upload class=\"avatar-uploader\" :action=\"baseUrl + '/admin/upload'\" name=\"storeAvatar\"\r\n                    auto-upload=\"false\" :show-file-list=\"false\" :on-success=\"handleAvatarSuccess\"\r\n                    :before-upload=\"beforeAvatarUpload\">\r\n                    <img v-if=\"model.src\" :src=\"model.src\" class=\"avatar\" />\r\n                    <el-icon v-else class=\"avatar-uploader-icon\">\r\n                        <Plus />\r\n                    </el-icon>\r\n                </el-upload>\r\n            </el-form-item>\r\n            <el-form-item label=\"轮播图\" prop=\"carousel\">\r\n                <!-- :action=\"'https://www.mengzhiyuan.email:5002' + '/admin/upload'\" name=\"storeAvatar\" -->\r\n        <el-upload\r\n          v-model:file-list=\"fileList\"\r\n          :action=\"baseUrl + '/admin/upload'\" name=\"storeAvatar\"\r\n          list-type=\"picture-card\"\r\n          :on-remove=\"handleRemove\"\r\n          limit=\"5\"\r\n          :on-success=\"handleAvatarSuccess2\"\r\n  >\r\n    <el-icon><Plus /></el-icon>\r\n  </el-upload>\r\n      </el-form-item>\r\n        </el-form>\r\n        <template #footer>\r\n            <el-button @click=\"cancel\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"handleOk\">确 定</el-button>\r\n        </template>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { AddStore, getStoreById, editStoreById, DeleteStoreCarouselPic} from '@/util/api'\r\nimport { baseUrl } from '@/util/baseConfig'\r\nimport { Plus } from '@element-plus/icons-vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { reactive, ref, defineExpose } from 'vue'\r\nconst form = ref(null)\r\nconst visible = ref(false)\r\nconst emits = defineEmits(['LoadData'])\r\nlet data = ref({})\r\nconst handleRemove = (file,) => {\r\n  // 发送删除的请求\r\n  if(file.uid != null){\r\n    // 发送删除的请求(轮播图)\r\n    DeleteStoreCarouselPic({id:file.uid}).then((res) => {\r\n      model.carousel = model.carousel.filter(item => item.src != res.data) \r\n    })\r\n  }\r\n}\r\nconst model = reactive({\r\n    id: \"\",\r\n    name: \"\",\r\n    src: \"\",\r\n    description: \"\",\r\n    account: \"\",\r\n    password: \"\",\r\n    tel:\"\",\r\n    carousel:[]\r\n})\r\nconst fileList = ref([])\r\n\r\nconst title = ref(\"\")\r\nconst cancel = () => {\r\n    visible.value = false\r\n    model.name = \"\"\r\n    model.description = \"\"\r\n    model.id = \"\"\r\n    model.src = \"\"\r\n    model.account = \"\"\r\n    model.password = \"\"\r\n    model.tel = \"\"\r\n    model.carousel = []\r\n    fileList.value.splice(0,fileList.value.length)\r\n\r\n}\r\nconst handleAvatarSuccess = (\r\n    res,\r\n) => {\r\n    model.src = res.data\r\n}\r\nconst handleAvatarSuccess2 = (\r\n    res,\r\n) => {\r\n    console.log(res, 'file carousel');\r\n    model.carousel.push({src:res.data})\r\n}\r\nconst beforeAvatarUpload = (rawFile) => {\r\n    if (!(rawFile.type == 'image/jpeg' || rawFile.type == 'image/png')) {\r\n        ElMessage.error('Avatar picture must be JPG | PNG format!')\r\n        return false\r\n    }\r\n    if (rawFile.size / 1024 / 1024 > 2) {\r\n        ElMessage.error('Avatar picture size can not exceed 2MB!')\r\n        return false\r\n    }\r\n    return true\r\n}\r\n// handleOk\r\nconst handleOk = () => {\r\n    console.log(model)\r\n    form.value.validate((valid) => {\r\n        if (valid) {\r\n            // 发送请求\r\n            if (model.id == null || model.id == '') {\r\n                // 账户密码不能低于6位\r\n                if (model.password.length < 6) {\r\n                    ElMessage.error('密码不能低于6位')\r\n                    return \r\n                }\r\n                if (model.account.length < 6) {\r\n                    ElMessage.error('账号不能低于6位')\r\n                    return \r\n                }\r\n\r\n                AddStore(model).then((res) => {\r\n                    console.log(res)\r\n                    visible.value = false\r\n                    emits('LoadData')\r\n                    cancel()\r\n                }).catch((err) => {\r\n                    console.log(err)\r\n                })\r\n            } else {\r\n                let d = {}\r\n                Object.keys(model).forEach((key) => {\r\n                    if (model[key] != data.value[key]) {\r\n                        d[key] = model[key]\r\n                    } \r\n                })\r\n                if(Object.keys(d).length == 0) {\r\n                    visible.value = false\r\n                    // emits('LoadData') \r\n                    cancel()\r\n                    return \r\n                }\r\n                // 修改\r\n                editStoreById({\r\n                    ...d,\r\n                    id:model.id\r\n                }).then((res) => {\r\n                    console.log(res)\r\n                    visible.value = false\r\n                    emits('LoadData') \r\n                    cancel()\r\n                })\r\n            }\r\n\r\n        }\r\n    })\r\n}\r\nconst rules = reactive({\r\n    name: [\r\n        { required: true, message: '请输入商铺名', trigger: 'blur' }\r\n    ],\r\n    src: [\r\n        { required: true, message: '请上传图片', trigger: 'blur' }\r\n    ],\r\n    description: [\r\n        { required: true, message: '请输入描述', trigger: 'blur' }\r\n    ],\r\n    account: [\r\n        { required: true, message: '请输入账户', trigger: 'blur' }\r\n    ],\r\n    password: [\r\n        { required: true, message: '请输入密码', trigger: 'blur' }\r\n    ],\r\n    tel: [\r\n        { required: true, message: '请输入手机号码', trigger: 'blur',\r\n            validator: (rule, value, callback) => {\r\n                if (value == '') {\r\n                    callback(new Error('请输入手机号码')) \r\n                } else {\r\n                    if (!/^1[3456789]\\d{9}$/.test(value)) {\r\n                        callback(new Error('请输入正确的手机号码')) \r\n                    } else {\r\n                        callback()\r\n                    } \r\n                }\r\n            }\r\n        }\r\n    ],\r\n    carousel: [\r\n        { required: true, message: '请上传轮播图', trigger: 'blur' } \r\n    ]\r\n})\r\nconst edit = (row) => {\r\n    Object.keys(model).forEach(key => {\r\n        if(key == 'carousel'){\r\n            model[key] = row[key]?.map(item => ({src:item.src,id:item.id})) || []\r\n            return\r\n        }\r\n        model[key] = row[key]\r\n    })\r\n    // Object.assign(model, row)\r\n}\r\nconst show = (row, tit) => {\r\n    visible.value = true\r\n    title.value = tit\r\n    console.log(row,'row');\r\n    if (row?.id) {\r\n        // 根据请求拿数据\r\n        model.id = row.id\r\n        getStoreById({\r\n            id: row.id \r\n        }).then((res) => {\r\n            data.value = {...res.data}\r\n            console.log(data,'data');\r\n            rules.password[0].required = false\r\n            fileList.value.splice(0,fileList.value.length)\r\n            fileList.value.push(...res.data.carousel.map(item =>({\r\n                uid:item.id,\r\n                url:item.src,\r\n            })))\r\n            edit(res.data)\r\n        }).catch((err) => {\r\n            console.log(err) \r\n        })\r\n    } else {\r\n        rules.password[0].required = true\r\n        edit({})\r\n    }\r\n}\r\ndefineExpose({ show })\r\n</script>\r\n\r\n<style scoped>\r\n.el-input {\r\n    width: 200px;\r\n}\r\n\r\n.el-mention {\r\n    width: 400px;\r\n}\r\n\r\n.avatar-uploader .el-upload {\r\n    border: 1px dashed var(--el-border-color);\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    overflow: hidden;\r\n    transition: var(--el-transition-duration-fast);\r\n}\r\n\r\n.avatar-uploader {\r\n    border: 1px dashed var(--el-border-color);\r\n}\r\n\r\n.avatar-uploader .el-upload:hover {\r\n    border-color: var(--el-color-primary);\r\n}\r\n\r\n.avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n}\r\n\r\n.el-icon.avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    text-align: center;\r\n}\r\n</style>","import script from \"./addStore.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./addStore.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./addStore.vue?vue&type=style&index=0&id=0c27d51e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0c27d51e\"]])\n\nexport default __exports__","<template>\n  <div class=\"page\">\n    <div style=\"background-color: white;padding: 20px;box-sizing: border-box;text-align: start;\">\n      <el-form>\n        <el-row>\n          <el-form-item label=\"门店名称\" prop=\"store\">\n             <!-- <el-input style=\"width: 200px;\" placeholder=\"请输入门店名称\" v-model=\"search.store\"></el-input> -->\n             <el-select style=\"width: 200px;\" placeholder=\"请选择门店名称\" v-model=\"search.id\" filterable>\n              <el-option v-for=\"item in stores\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <!-- 搜索 -->\n          <el-form-item>\n            <!-- 重置 -->\n            <el-button @click=\"reset\">重置</el-button>\n            <el-button type=\"primary\" @click=\"searchStoreInfo\">搜索</el-button>\n          </el-form-item>\n        </el-row>\n\n      </el-form>\n      <div>\n        <el-button type=\"primary\" @click=\"AddStore\">新建店铺</el-button>\n      </div>\n      <el-table :data=\"storeList\" style=\"width: 100%;margin-top: 20px;\" border>\n        <!-- store,name,description,money,transport_money,sale,depository -->\n        <el-table-column type=\"selection\" width=\"55\">\n        </el-table-column>\n        <!-- <el-table-column type=\"index\" label=\"id\" width=\"80\" align=\"center\"></el-table-column> -->\n        <el-table-column prop=\"id\" label=\"id\" width=\"80\" show-overflow-tooltip align=\"center\">\n        </el-table-column>\n        <!-- 门店头像 -->\n        <el-table-column prop=\"src\" label=\"门店头像\" width=\"150\" show-overflow-tooltip align=\"center\">\n          <template #default=\"scope\">\n            <img :src=\"scope.row.src\" alt=\"\" style=\"width: 100px;height: 100px;\">\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"门店名称\" width=\"150\" show-overflow-tooltip align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"description\" label=\"门店描述\" show-overflow-tooltip width=\"300\" align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"role\" label=\"权限\" width=\"130\" align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"account\" label=\"账户\" width=\"130\" align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"password\" label=\"密码(加密)\" width=\"200\" align=\"center\" show-overflow-tooltip>\n        </el-table-column>\n        <!-- create_date -->\n        <el-table-column prop=\"create_date\" label=\"创建时间\" width=\"160\" align=\"center\">\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"180\" fixed=\"right\" align=\"center\">\n          <template #default=\"scope\">\n          <el-button type=\"primary\" @click=\"edit(scope.row)\">编辑</el-button>\n          <el-popconfirm title=\"确定要删除该店铺吗?\" width=\"200\" @confirm=\"del(scope.row)\">\n              <template #reference>\n                <el-button type=\"danger\">删除</el-button>\n              </template>\n          </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div style=\"margin-top: 20px;\">\n        <el-pagination background layout=\"total, prev, pager, next\" :page-size=\"10\" :total=\"total\"\n        style=\"justify-content: flex-end;margin-right: 50px;\"\n        :current-page=\"page\"\n          @current-change=\"handleCurrentChange\">\n        </el-pagination>\n      </div>\n    </div>\n    <addStore  @LoadData=\"loadData2\" ref=\"storeModal\"></addStore>\n  </div>\n</template>\n\n<script setup>\nimport addStore from './modules/addStore.vue';\nimport { DelStore, GetStoreNames, getAllStoreAccount } from '@/util/api';\nimport { reactive, ref } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport storage from '@/storage/storage';\n\nconst total = ref(0);\nconst search = reactive({\n  id: \"\",\n  name: \"\"\n})\n\nconsole.log(storage.ls.get('userId'),'pro__');\n\n\nconst stores = reactive([])\n\n// reset\nconst reset = () => {\n  search.id = \"\"\n  search.name = \"\"\n  loadData()\n}\nconst loadData2 = () => {\n  loadData()\n  getStoreNames()\n}\n\n// searchStoreInfo\nconst searchStoreInfo = () => {\n  page.value = 1\n  loadData()\n}\n\nconst getStoreNames = () => {\n  GetStoreNames().then((res) => {\n    stores.splice(0, stores.length, ...res.data)\n  }).catch((err) => {\n    console.log(err)\n  })\n}\ngetStoreNames()\nconst storeModal = ref(null);\nconst page = ref(1);\nconst storeList = reactive([])\nconst AddStore = () => {\n  storeModal.value.show({},'新增店铺')\n}\nconst loadData = () => {\n  getAllStoreAccount({\n    page: page.value,\n    pageSize: 10,\n    ...search\n  }).then((res) => {\n    console.log(res)\n    storeList.splice(0, storeList.length)\n    storeList.push(...res.data.list)\n    total.value = res.data.total\n    page.value = res.data.pageNum\n  }).catch((err) => {\n    console.log(err)\n  })\n}\nloadData()\nconst edit = (row) => {\n  // getAllStoreAccount\n  // storeItemModal.value.show(row,'编辑商品')\n  console.log(row)\n  storeModal.value.show(row,'编辑店铺')\n}\nconst del = (row) => {\n  console.log(row,'del')\n  DelStore({\n    id:row.id\n  }).then((res) => {\n    ElMessage.success(\"删除成功\")\n    loadData()\n  }).catch((err) => {\n    console.log(err)\n  })\n}\nconst handleCurrentChange = (val) => {\n  page.value = val\n  loadData()\n}\n</script>\n\n<style scoped lang=\"less\">\n@import \"../../general/page.css\";\n\n.page {\n  background: rgba(0, 0, 0, .1);\n  padding: 10px;\n  overflow-y: auto;\n  padding-bottom: 100px;\n  box-sizing: border-box;\n  max-height: 100%;\n  height: 100%;\n}\n.el-input {\n  width: 200px;\n}\n\n::-webkit-scrollbar {\n  display: none;\n}\n.el-form-item{\n  margin-right: 20px;\n}\n</style>","import script from \"./StoreManage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StoreManage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StoreManage.vue?vue&type=style&index=0&id=53baebf2&scoped=true&lang=less\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-53baebf2\"]])\n\nexport default __exports__"],"names":["loadStoreInfo","data","instance","get","params","loadStoreInfoById","GetStoreNames","AddStoreItem","post","EditStoreItem","DeleteStoreItem","AddStore","buyGoodsAll","editBuyGoodsState2","put","getAllStoreAccount","getStoreById","editStoreById","DelStore","delete","AddAntique","GetAntiqueAll","AntiqueLogin","GetAntiqueCollect","AddAntiqueCollect","FindAntiqueById","GetCollectById","EditCollectById","DelAntiqueCollect","EditAntiqueById","GetStoreForAntique","DelAntiqueBindStore","AddAntiqueBindStore","GetMyBindStoreById","DeleteGoodsPic","DelAntique","DeleteStoreCarouselPic","GetAllCommunity","UpdateCommunityStatus","DeleteCommunity","GetYearStoreStatics","GetBillsStatistics","GetTotalStoreStatics","GetYearStoreStaticsByYear","buyGoodsAllToExcel","responseType","buyGoodsToExcelById","form","ref","visible","emits","__emit","handleRemove","file","uid","id","then","res","model","carousel","filter","item","src","reactive","name","description","account","password","tel","fileList","title","cancel","value","splice","length","handleAvatarSuccess","handleAvatarSuccess2","console","log","push","beforeAvatarUpload","rawFile","type","ElMessage","error","size","handleOk","validate","valid","catch","err","d","Object","keys","forEach","key","rules","required","message","trigger","validator","rule","callback","Error","test","edit","row","map","show","tit","url","__expose","__exports__","total","search","storage","ls","stores","reset","loadData","loadData2","getStoreNames","searchStoreInfo","page","storeModal","storeList","pageSize","list","pageNum","del","success","handleCurrentChange","val"],"sourceRoot":""}