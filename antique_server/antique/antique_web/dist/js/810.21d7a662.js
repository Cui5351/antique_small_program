"use strict";(self["webpackChunkoil"]=self["webpackChunkoil"]||[]).push([[810],{6810:function(e,s,n){n.r(s),n.d(s,{default:function(){return L}});var a=n(6768),o=n(4232),t=n(5130),l=n(1219),r=n(144),u=n(9455),i=n(4588),c=n(1387);const d={class:"box"},p={class:"content"},k={class:"login-wrapper"},m={class:"login-form"},w={class:"username form-item"},v={class:"password form-item"};var g={__name:"login",setup(e){const s=(0,r.Kh)({username:"",password:""}),n=(0,c.rd)(),g=(0,r.KR)(!0),h=()=>{g.value=!g.value},f=async()=>{try{if(s.username.trim().length<4)throw"账号长度不能小于4";if(s.password.trim().length<6)throw"密码长度不能小于6";if(g.value){const{data:e}=await u.A.post("/Store/login",{...s});i.A.ls.set("user",JSON.stringify(e))}else{const{data:e}=await u.A.post("/Antique/login",{account:s.username,password:s.password});console.log(e,"data"),i.A.ls.set("user",JSON.stringify(e))}n.replace({path:"/homePage"}),l.nk.success("登陆成功")}catch(e){return void console.log(e)}};return(e,n)=>((0,a.uX)(),(0,a.CE)("div",d,[(0,a.Lk)("div",p,[(0,a.Lk)("div",k,[(0,a.Lk)("h1",null,"登录"+(0,o.v_)(g.value?"商家":"博物馆"),1),(0,a.Lk)("div",m,[(0,a.Lk)("div",w,[n[2]||(n[2]=(0,a.Lk)("span",null,"账号",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",onKeydown:(0,t.jR)(f,["enter"]),class:"input-item","onUpdate:modelValue":n[0]||(n[0]=e=>s.username=e),placeholder:"Please enter your account"},null,544),[[t.Jo,s.username]])]),(0,a.Lk)("div",v,[n[3]||(n[3]=(0,a.Lk)("span",null,"密码",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",onKeydown:(0,t.jR)(f,["enter"]),class:"input-item","onUpdate:modelValue":n[1]||(n[1]=e=>s.password=e),placeholder:"Please enter your password"},null,544),[[t.Jo,s.password]])]),(0,a.Lk)("button",{class:"login-btn",onClick:f},"登 录"),(0,a.Lk)("button",{class:"login-btn",onClick:h},"切换登录")])])])]))}},h=n(1241);const f=(0,h.A)(g,[["__scopeId","data-v-0e90e4ab"]]);var L=f}}]);
//# sourceMappingURL=810.21d7a662.js.map