{"version":3,"file":"js/665.f9d380ee.js","mappings":"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","sources":["webpack://oil/./src/util/api.js","webpack://oil/./src/view/GoodsManage/modules/StoreItemModal.vue","webpack://oil/./src/view/GoodsManage/modules/StoreItemModal.vue?ebdd","webpack://oil/./src/view/GoodsManage/GoodsManage.vue","webpack://oil/./src/view/GoodsManage/GoodsManage.vue?c88a"],"sourcesContent":["import instance from \"@/request/request\";\r\n// 加载门店信息\r\n\r\n// /loadStoreInfo\r\nconst loadStoreInfo = (data) => instance.get(\"/StoreItem/list2\",{params:{...data}})\r\n\r\n// /loadStoreInfoById\r\nconst loadStoreInfoById = (data) => instance.get(\"/StoreItem/findById\",{params:{...data}})\r\n\r\n// GetStoreNames\r\nconst GetStoreNames = () => instance.get(\"/Store/getStoreNames\")\r\n// /AddStoreItem\r\nconst AddStoreItem = (data) => instance.post(\"/StoreItem/add\",data)\r\n// /EditStoreItem\r\nconst EditStoreItem = (data) => instance.post(\"/StoreItem/edit\",data)\r\n// delete\r\nconst DeleteStoreItem = (data) => instance.post(\"/StoreItem/delete\",data)\r\n\r\nconst AddStore = (data) => instance.post(\"/Store/add\",data)\r\n\r\n// StoreItem/buyGoodsAll\r\nconst buyGoodsAll = (data) => instance.get(\"/StoreItem/GetBuyGoodsAll\",{params:{...data}})\r\n\r\n// editBuyGoodsState2\r\nconst editBuyGoodsState2 = (data) => instance.put(\"/StoreItem/editBuyGoodsState2\",data)\r\n\r\n// getAllStoreAccount\r\nconst getAllStoreAccount = (data) => instance.get(\"/Store/getAllStoreAccount\",{params:{...data}})\r\n\r\n// getStoreById\r\nconst getStoreById = (data) => instance.get(\"/Store/getStoreById\",{params:{...data}})\r\n\r\n// /editStoreById\r\nconst editStoreById = (data) => instance.put(\"/Store/editStoreById\",data)\r\n\r\n// /DelStore\r\nconst DelStore = (data) => instance.delete(\"/Store/DelStore\",{params:{...data}})\r\n\r\n// Antique/AddAntique\r\nconst AddAntique = (data) => instance.post(\"/Antique/AddAntique\",data)\r\n\r\n// /Antique/GetAntiqueAll\r\nconst GetAntiqueAll = (data) => instance.get(\"/Antique/GetAntiqueAll\",{params:{...data}})\r\n\r\n// /Antique/login\r\nconst AntiqueLogin = (data) => instance.post(\"/Antique/login\",data)\r\n\r\n// /Antique/GetAntiqueCollect\r\nconst GetAntiqueCollect = (data) => instance.get(\"/Antique/GetAntiqueCollect\",{params:{...data}})\r\n\r\n// Antique/AddAntiqueCollect\r\nconst AddAntiqueCollect = (data) => instance.post(\"/Antique/AddAntiqueCollect\",data)\r\n\r\n// Antique/FindAntiqueById\r\nconst FindAntiqueById = (data) => instance.get(\"/Antique/FindAntiqueById\",{params:{...data}})\r\n\r\n// Antique/GetCollectById\r\nconst GetCollectById = (data) => instance.get(\"/Antique/GetCollectById\",{params:{...data}})\r\n\r\n// Antique/EditCollectById\r\nconst EditCollectById = (data) => instance.put(\"/Antique/EditCollectById\",data)\r\n\r\n// Antique/DelAntiqueCollect\r\nconst DelAntiqueCollect = (data) => instance.put(\"/Antique/DelAntiqueCollect\",data)\r\n\r\n\r\n// Antique/EditAntiqueById\r\nconst EditAntiqueById = (data) => instance.put(\"/Antique/EditAntiqueById\",data)\r\n\r\nconst GetStoreForAntique = (data) => instance.get(\"/Antique/GetStoreForAntique\",{params:{...data}})\r\n\r\n// DelAntiqueBindStore\r\nconst DelAntiqueBindStore = (data) => instance.put(\"/Antique/DelAntiqueBindStore\",data)\r\n\r\n// AddAntiqueBindStore\r\nconst AddAntiqueBindStore = (data) => instance.put(\"/Antique/AddAntiqueBindStore\",data)\r\n\r\n// GetMyBindStoreById\r\nconst GetMyBindStoreById = (data) => instance.get(\"/Antique/GetMyBindStoreById\",{params:{...data}})\r\n\r\n// DeleteGoodsPic\r\nconst DeleteGoodsPic = (data) => instance.delete(\"/StoreItem/DeleteGoodsPic\",{params:{...data}})\r\n\r\nconst DelAntique = (data) => instance.delete(\"/Antique/DelAntique\",{params:{...data}})\r\n\r\nconst DeleteStoreCarouselPic = (data) => instance.delete(\"/Store/DeleteStoreCarouselPic\",{params:{...data}})\r\n\r\nconst GetAllCommunity = (data) => instance.get(\"/Community/GetAllCommunity\",{params:{...data}})\r\n\r\nconst UpdateCommunityStatus = (data) => instance.post(\"/Community/UpdateCommunityStatus\",data)\r\n// DeleteCommunity\r\nconst DeleteCommunity = (data) => instance.delete(\"/Community/DeleteCommunity\",{params:{...data}})\r\n\r\n// GetYearStoreStatics\r\nconst GetYearStoreStatics = (data) => instance.get(\"/Finance/GetYearStoreStatics\",{params:{...data}})\r\n// GetBillsStatistics\r\nconst GetBillsStatistics = (data) => instance.get(\"/Finance/GetBillsStatistics\",{params:{...data}})\r\n// GetTotalStoreStatics\r\nconst GetTotalStoreStatics = (data) => instance.get(\"/Finance/GetTotalStoreStatics\",{params:{...data}})\r\n// GetYearStoreStaticsByYear\r\nconst GetYearStoreStaticsByYear = (data) => instance.get(\"/Finance/GetYearStoreStaticsByYear\",{params:{...data}})\r\n// /StoreItem/buyGoodsAllToExcel\r\nconst buyGoodsAllToExcel = (data) => instance.get(\"/StoreItem/buyGoodsAllToExcel\",{params:{...data},responseType:\"blob\"})\r\n\r\n// buyGoodsToExcelById\r\nconst buyGoodsToExcelById = (data) => instance.get(\"/StoreItem/buyGoodsToExcelById\",{params:{...data},responseType:\"blob\"})\r\n\r\nexport {\r\n    buyGoodsToExcelById,\r\n    buyGoodsAllToExcel,\r\n    GetYearStoreStatics,\r\n    GetBillsStatistics,\r\n    GetTotalStoreStatics,\r\n    GetYearStoreStaticsByYear,\r\n\r\n    GetAllCommunity,\r\n    UpdateCommunityStatus,\r\n    DeleteCommunity,\r\n\r\n    DelAntique,\r\n    DeleteGoodsPic,\r\n    DeleteStoreCarouselPic,\r\n\r\n    AddAntiqueBindStore,\r\n    DelAntiqueBindStore,\r\n    GetMyBindStoreById,\r\n\r\n    GetStoreForAntique,\r\n    EditAntiqueById,\r\n    DelAntiqueCollect,\r\n    EditCollectById,\r\n    GetCollectById,\r\n    FindAntiqueById,\r\n    AddAntiqueCollect,\r\n    GetAntiqueCollect,\r\n    AntiqueLogin,\r\n    AddAntique,\r\n    GetAntiqueAll,\r\n\r\n    DelStore,\r\n    getStoreById,\r\n    editStoreById,\r\n    getAllStoreAccount,\r\n    buyGoodsAll,\r\n    editBuyGoodsState2,\r\n    AddStore,\r\n    loadStoreInfo,\r\n    loadStoreInfoById,\r\n    GetStoreNames,\r\n    AddStoreItem,\r\n    EditStoreItem,\r\n    DeleteStoreItem\r\n}","<template>\r\n  <el-dialog :title=title center v-model=\"visible\" width=\"700px\" :before-close=\"handleClose\">\r\n    <el-form :model=\"model\" label-width=\"80px\" :rules=\"rules\" ref=\"form\">\r\n      <!-- <el-input v-model=\"model.store\" placeholder=\"请输入门店名称\"></el-input> -->\r\n      <el-form-item label=\"门店\" prop=\"store\" v-if=\"userData.role == '超级管理员'\">\r\n        <el-select v-model=\"model.store_id\" placeholder=\"请选择门店\" filterable>\r\n          <el-option v-for=\"item in stores\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品名称\" prop=\"name\">\r\n        <el-input v-model=\"model.name\" placeholder=\"请输入商品名称\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品价格\" prop=\"money\">\r\n        <el-input v-model=\"model.money\" placeholder=\"请输入商品价格\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"运费\" prop=\"transport_money\">\r\n        <el-input v-model=\"model.transport_money\" placeholder=\"请输入运输费用\"></el-input>\r\n      </el-form-item>\r\n      <!-- <el-form-item label=\"库存\" prop=\"sale\">\r\n        <el-input v-model=\"model.sale\"  placeholder=\"请输入商品销量\"></el-input>\r\n      </el-form-item> -->\r\n      <el-form-item label=\"库存\" prop=\"depository\">\r\n        <el-input v-model=\"model.depository\" placeholder=\"请输入商品库存\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品描述\" prop=\"description\">\r\n        <!-- <el-textarea :rows=\"4\" v-model=\"model.description\"  placeholder=\"请输入商品描述\"></el-textarea> -->\r\n        <el-mention style=\"max-width:250px\" :rows=\"4\" v-model=\"model.description\" type=\"textarea\"\r\n          placeholder=\"请输入商品描述\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"商品图片\" prop=\"src\">\r\n        <el-upload\r\n          v-model:file-list=\"fileList\"\r\n          :action=\"baseUrl + '/admin/upload'\" name=\"storeAvatar\"\r\n          list-type=\"picture-card\"\r\n          :on-remove=\"handleRemove\"\r\n          limit=\"5\"\r\n          :on-success=\"handleAvatarSuccess\"\r\n  >\r\n    <el-icon><Plus /></el-icon>\r\n  </el-upload>\r\n      </el-form-item>\r\n    </el-form>\r\n    <template #footer>\r\n      <el-button @click=\"handleClose\">取 消</el-button>\r\n      <el-button @click=\"handleOk\" type=\"primary\">确 定</el-button>\r\n      <!-- 确定 -->\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { AddStoreItem, DeleteGoodsPic, EditStoreItem, GetStoreNames, loadStoreInfoById } from '@/util/api'\r\nimport { reactive, defineExpose, ref } from 'vue'\r\nimport { Plus } from '@element-plus/icons-vue'\r\nimport { baseUrl } from '@/util/baseConfig'\r\nimport { ElMessage } from 'element-plus'\r\nimport storage from '@/storage/storage'\r\nconst visible = ref(false)\r\nconst fileList = ref([])\r\nconst model = reactive({\r\n  store: \"\",\r\n  name: \"\",\r\n  description: \"\",\r\n  store_id: \"\",\r\n  money: \"\",\r\n  transport_money: \"\",\r\n  depository: \"\",\r\n  src: [],\r\n  id: null\r\n})\r\n\r\nconst data = JSON.parse(storage.ls.get(\"user\"))\r\nconst userData = ref({\r\n  role:data.role\r\n})\r\nmodel.store_id = data.id\r\nconst stores = reactive([])\r\n// LoadData\r\nconst emits = defineEmits(['LoadData'])\r\nconst getStoreNames = () => {\r\n  if(data.role != '超级管理员'){\r\n    return\r\n  }\r\n  GetStoreNames().then((res) => {\r\n    stores.splice(0, stores.length, ...res.data)\r\n  })\r\n}\r\ngetStoreNames()\r\nconst beforeAvatarUpload = (rawFile) => {\r\n  if (!(rawFile.type == 'image/jpeg' || rawFile.type== 'image/png')) {\r\n    ElMessage.error('Avatar picture must be JPG | PNG format!')\r\n    return false\r\n  }\r\n   if (rawFile.size / 1024 / 1024 > 2) {\r\n    ElMessage.error('Avatar picture size can not exceed 2MB!')\r\n    return false\r\n  }\r\n  return true\r\n}\r\n\r\nconst handleClose = () => {\r\n  visible.value = false\r\n  fileList.value.splice(0,fileList.value.length)\r\n    edit({\r\n      // store_id: \"\",\r\n      name: \"\",\r\n      description: \"\",\r\n      money: \"\",\r\n      transport_money: \"\",\r\n      depository: \"\",\r\n      src: [],\r\n      id:null\r\n    })\r\n}\r\n\r\nconst handleAvatarSuccess = (\r\n  res,\r\n) => {\r\n  console.log(res, 'file');\r\n  console.log(fileList,'fileList');\r\n  model.src.push({src:res.data})\r\n}\r\nconst handleRemove = (file,) => {\r\n  console.log(file.uid, 'file remove'); \r\n  // 发送删除的请求\r\n  if(file.uid != null){\r\n    // 发送删除的请求\r\n    DeleteGoodsPic(\r\n      {\r\n        id:file.uid\r\n      }\r\n    ).then((res) => {\r\n      console.log(res,'res'); \r\n      model.src.splice(model.src.indexOf(file.url), 1)\r\n    })\r\n  }\r\n}\r\n\r\nconst form = ref(null)\r\nconst rules = reactive({\r\n  store_id: [\r\n    { required: true, message: '请选择门店名称', trigger: 'blur' },\r\n  ],\r\n  name: [\r\n    { required: true, message: '请输入商品名称', trigger: 'blur' },\r\n  ],\r\n  money: [\r\n    { required: true, message: '请输入正确的商品价格', trigger: 'blur', type: 'number',\r\n    transform(val){\r\n        if((/\\d/g).test(val)){\r\n          return Number(val)\r\n        }else\r\n          return false \r\n      }\r\n     },\r\n  ],\r\n  transport_money: [\r\n    {\r\n      required: true, message: '请输入正确的运费', trigger: 'blur',\r\n      type: 'number',\r\n      transform(val){\r\n        if((/\\d/g).test(val)){\r\n          return Number(val)\r\n        }else\r\n          return false \r\n      }\r\n    },\r\n  ],\r\n  depository: [\r\n    { required: true, message: '请输入正确的库存', trigger: 'blur', type: 'number',\r\n    transform(val){\r\n        if((/\\d/g).test(val)){\r\n          return Number(val)\r\n        }else\r\n          return false \r\n      }\r\n     },\r\n  ],\r\n  description: [\r\n    { required: true, message: '请输入商品描述', trigger: 'blur' },\r\n  ],\r\n  src: [\r\n    { required: true, message: '请上传商品图片', trigger: 'blur' },\r\n  ]\r\n})\r\nconst title = ref(\"\")\r\nconst edit = (row) => {\r\n  Object.assign(model, row)\r\n}\r\nconst handleOk = async () => {\r\n  await form.value.validate((valid, fields) => {\r\n    if (valid) {\r\n      if(model.id == null){\r\n      AddStoreItem(model).then((res) => {\r\n        console.log(res,'res');\r\n        ElMessage.success('添加成功') \r\n        visible.value = false\r\n          handleClose()\r\n          emits('LoadData')\r\n      }).catch((err) => {\r\n        ElMessage.error('添加失败')\r\n      })\r\n    }else{\r\n      // 编辑\r\n      EditStoreItem(model).then((res) => {\r\n        console.log(res,'res');\r\n        ElMessage.success('编辑成功')\r\n        visible.value = false\r\n        handleClose()\r\n          emits('LoadData')\r\n      }).catch((err) => {\r\n        ElMessage.error('编辑失败') \r\n      })\r\n    }\r\n\r\n    } else {\r\n      console.log(fields, 'fields');\r\n      return false\r\n    }\r\n  })\r\n}\r\nconst show = (row, tit) => {\r\n  visible.value = true\r\n  title.value = tit\r\n  if (row?.id) {\r\n    model.id = row.id\r\n    // 根据请求拿数据\r\n    loadStoreInfoById({ id: row.id }).then((res) => {\r\n      fileList.value.splice(0,fileList.value.length)\r\n      console.log(res.data, 'data');\r\n      if(res.data.src.length > 0)\r\n      fileList.value.push(...res.data.src.map(item =>({\r\n        uid:item.id,\r\n        url:item.src\r\n      })))\r\n      console.log(fileList.value,'filelist');\r\n      edit(res.data)\r\n    })\r\n    // edit(row)\r\n  } else {\r\n    // form.value.resetFields()\r\n\r\n  }\r\n}\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.el-input,\r\n.el-select {\r\n  max-width: 250px\r\n}\r\n\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed var(--el-border-color);\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n  transition: var(--el-transition-duration-fast);\r\n}\r\n\r\n.avatar-uploader {\r\n  border: 1px dashed var(--el-border-color);\r\n}\r\n\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: var(--el-color-primary);\r\n}\r\n\r\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n}\r\n\r\n.el-icon.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  text-align: center;\r\n}\r\n</style>\r\n","import script from \"./StoreItemModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StoreItemModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StoreItemModal.vue?vue&type=style&index=0&id=734f2eda&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-734f2eda\"]])\n\nexport default __exports__","<template>\n  <div class=\"page\">\n    <div style=\"background-color: white;padding: 20px;box-sizing: border-box;text-align: start;\">\n      <el-form>\n        <el-row>\n          <!-- <el-input style=\"width: 200px;\" placeholder=\"请输入门店名称\" v-model=\"search.store\"></el-input> -->\n          <el-form-item label=\"门店名称\" prop=\"store\" v-if=\"userData.role == '超级管理员'\">\n             <el-select style=\"width: 200px;\" placeholder=\"请选择门店名称\" v-model=\"search.store_id\" filterable>\n              <el-option v-for=\"item in stores\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"商品名称\" prop=\"name\">\n            <el-input style=\"width: 200px;\" placeholder=\"请输入商品名称\" v-model=\"search.name\"></el-input>\n          </el-form-item>\n          <!-- 搜索 -->\n          <el-form-item>\n            <!-- 重置 -->\n            <el-button @click=\"reset\">重置</el-button>\n            <el-button type=\"primary\" @click=\"searchStoreInfo\">搜索</el-button>\n          </el-form-item>\n        </el-row>\n\n      </el-form>\n      <div>\n        <el-button type=\"primary\" @click=\"addStoreItem\">新增商品</el-button>\n      </div>\n      <el-table :data=\"storeList\" style=\"width: 100%;margin-top: 20px;\" border>\n        <!-- store,name,description,money,transport_money,sale,depository -->\n        <el-table-column type=\"selection\" width=\"55\">\n        </el-table-column>\n        <!-- <el-table-column type=\"index\" label=\"id\" width=\"80\" align=\"center\"></el-table-column> -->\n        <el-table-column prop=\"id\" label=\"id\" width=\"80\" show-overflow-tooltip align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"store\" label=\"门店名称\" width=\"150\" show-overflow-tooltip align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"商品名称\" show-overflow-tooltip width=\"150\" align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"url\" label=\"商品图片\" width=\"170\" show-overflow-tooltip align=\"center\">\n          <template #default=\"scope\">\n            <img :src=\"scope.row.url\" alt=\"\" style=\"width: 100px;height: 100px;\">\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"description\" label=\"商品描述\" show-overflow-tooltip width=\"240\" align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"money\" label=\"商品价格\" width=\"120\" align=\"center\">\n          <template #default=\"scope\">\n            {{scope.row.money.toFixed(2)}}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"transport_money\" label=\"运费\" width=\"120\" align=\"center\">\n          <template #default=\"scope\">\n            {{scope.row.transport_money.toFixed(2)}}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"sale\" label=\"销量\" width=\"100\" align=\"center\">\n        </el-table-column>\n        <el-table-column prop=\"depository\" label=\"库存\" width=\"100\" align=\"center\">\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"180\" fixed=\"right\" align=\"center\">\n          <template #default=\"scope\">\n          <el-button type=\"primary\" @click=\"edit(scope.row)\">编辑</el-button>\n          <el-popconfirm title=\"确定要删除该商品吗?\" width=\"200\" @confirm=\"del(scope.row)\">\n              <template #reference>\n                <el-button type=\"danger\">删除</el-button>\n              </template>\n          </el-popconfirm>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div style=\"margin-top: 20px;\">\n        <el-pagination background layout=\"total, prev, pager, next\" :page-size=\"10\" :total=\"total\"\n        style=\"justify-content: flex-end;margin-right: 50px;\"\n        :current-page=\"page\"\n          @current-change=\"handleCurrentChange\">\n        </el-pagination>\n      </div>\n    </div>\n    <StoreItemModal @LoadData=\"loadData\" ref=\"storeItemModal\"></StoreItemModal>\n  </div>\n</template>\n\n<script setup>\nimport { DeleteStoreItem, GetStoreNames, loadStoreInfo } from '@/util/api';\nimport { reactive, ref } from 'vue';\nimport StoreItemModal from './modules/StoreItemModal.vue'\nimport { ElMessage } from 'element-plus';\nimport storage from '@/storage/storage';\n\nconst total = ref(0);\nconst search = reactive({\n  store_id: \"\",\n  name: \"\"\n})\nconst data = JSON.parse(storage.ls.get(\"user\"))\nconst userData = ref({\n  role:data.role\n})\n\n\nconst stores = reactive([])\n\n// reset\nconst reset = () => {\n  search.store_id = \"\"\n  search.name = \"\"\n  loadData()\n}\nconst loadData2 = () => {\n  loadData()\n  getStoreNames()\n}\n\n// searchStoreInfo\nconst searchStoreInfo = () => {\n  page.value = 1\n  loadData()\n}\n\nconst getStoreNames = () => {\n  if(userData.value.role != \"超级管理员\"){\n    return\n  }\n  console.log('load',userData.value.role);\n  GetStoreNames().then((res) => {\n    stores.splice(0, stores.length, ...res.data)\n  }).catch((err) => {\n    console.log(err)\n  })\n}\ngetStoreNames()\n\nconst storeItemModal = ref(null);\nconst storeModal = ref(null);\nconst page = ref(1);\nconst storeList = reactive([])\nconst addStoreItem = () => {\n  storeItemModal.value.show(null,'新增商品')\n}\nconst AddStore = () => {\n  storeModal.value.show({},'新增店铺')\n}\nconst loadData = () => {\n  loadStoreInfo({\n    page: page.value,\n    pageSize: 10,\n    ...search\n  }).then((res) => {\n    console.log(res)\n    storeList.splice(0, storeList.length)\n    storeList.push(...res.data.list)\n    total.value = res.data.total\n    page.value = res.data.pageNum\n  }).catch((err) => {\n    console.log(err)\n  })\n}\nloadData()\nconst edit = (row) => {\n  storeItemModal.value.show(row,'编辑商品')\n  console.log(row)\n}\nconst del = (row) => {\n  console.log(row,'del')\n  DeleteStoreItem({\n    id:row.id\n  }).then((res) => {\n    ElMessage.success(\"删除成功\")\n    loadData()\n  }).catch((err) => {\n    console.log(err)\n  })\n}\nconst handleCurrentChange = (val) => {\n  page.value = val\n  loadData()\n}\n</script>\n\n<style scoped lang=\"less\">\n@import \"../../general/page.css\";\n\n.page {\n  background: rgba(0, 0, 0, .1);\n  padding: 10px;\n  overflow-y: auto;\n  box-sizing: border-box;\n  max-height: 100%;\n  height: 100%;\n  padding-bottom: 100px;\n\n}\n.el-input {\n  width: 200px;\n}\n\n::-webkit-scrollbar {\n  display: none;\n}\n.el-form-item{\n  margin-right: 20px;\n}\n</style>","import script from \"./GoodsManage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoodsManage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoodsManage.vue?vue&type=style&index=0&id=72e7cb94&scoped=true&lang=less\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-72e7cb94\"]])\n\nexport default __exports__"],"names":["loadStoreInfo","data","instance","get","params","loadStoreInfoById","GetStoreNames","AddStoreItem","post","EditStoreItem","DeleteStoreItem","AddStore","buyGoodsAll","editBuyGoodsState2","put","getAllStoreAccount","getStoreById","editStoreById","DelStore","delete","AddAntique","GetAntiqueAll","AntiqueLogin","GetAntiqueCollect","AddAntiqueCollect","FindAntiqueById","GetCollectById","EditCollectById","DelAntiqueCollect","EditAntiqueById","GetStoreForAntique","DelAntiqueBindStore","AddAntiqueBindStore","GetMyBindStoreById","DeleteGoodsPic","DelAntique","DeleteStoreCarouselPic","GetAllCommunity","UpdateCommunityStatus","DeleteCommunity","GetYearStoreStatics","GetBillsStatistics","GetTotalStoreStatics","GetYearStoreStaticsByYear","buyGoodsAllToExcel","responseType","buyGoodsToExcelById","visible","ref","fileList","model","reactive","store","name","description","store_id","money","transport_money","depository","src","id","JSON","parse","storage","ls","userData","role","stores","emits","__emit","getStoreNames","then","res","splice","length","handleClose","value","edit","handleAvatarSuccess","console","log","push","handleRemove","file","uid","indexOf","url","form","rules","required","message","trigger","type","transform","val","test","Number","title","row","Object","assign","handleOk","async","validate","valid","fields","ElMessage","success","catch","err","error","show","tit","map","item","__expose","__exports__","total","search","reset","loadData","searchStoreInfo","page","storeItemModal","storeList","addStoreItem","pageSize","list","pageNum","del","handleCurrentChange"],"sourceRoot":""}